<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app">
        {{msg}}
        <input type="text" v-model='msg'>
    </div>
    <script src="node_modules/vue/dist/vue.js"></script>
    <script>
        //双向数据绑定
        let vm = new Vue({
            el:'#app',
            data:{
                msg:'hello'
            }
        });
        vm.msg='word';//数据影响视图；数据==》视图
        //视图也可以影响数据 视图==》数据
        //能够和视图直接交互的，只有表单元素；input label checkbox select textarea 
        //如果这个元素是通过data中的数据渲染的，当innerHTML改变里面的内容时并不能改变数据
        // VUE是一款mvvm框
        //M: model 数据  V:view 视图 VM 数据视图对象

        // Object.defineProperty(obj,"name",{
        //     get(){
        //         console.log(999)
        //         return 1;
        //     },
        //     set(newVal){
        //         // 当设置对象属性名的属性值时，会默认调用此方法
        //         console.log(newVal);
        //     }
        // });
        // 当获取obj.name属性值时，会默认调用get方法；会把get返回值作为obj的name的属性值；
        // var r = obj.name;// 获取obj的name属性名对应的属性值
        // var  e= obj.name;
        // console.log(r);// undefined
        // obj.name="回龙观";
        // console.log(obj.name);
        // console.log(obj);


        // MVVM原理：
        //当执行 new Vue() 时，Vue 就进入了初始化阶段，一方面Vue 会遍历 data 选项中的属性，并用 Object.defineProperty 将它们转为 getter/setter，实现数据变化监听功能；另一方面，Vue 的指令编译器Compile 对元素节点的指令进行解析，初始化视图，并订阅Watcher 来更新视图， 此时Wather 会将自己添加到消息订阅器中(Dep),初始化完毕。当数据发生变化时，Observer 中的 setter 方法被触发，setter 会立即调用Dep.notify()，Dep 开始遍历所有的订阅者，并调用订阅者的 update 方法，订阅者收到通知后对视图进行相应的更新。
        let obj1= {name:'啊啊',age:200};
        Object.defineProperty(obj1,'name',{
            get(){
                return 1
            },
            set(val){
                console.log(val);
                
            }
        });
         obj1.name='haha'
        //console.log(obj1.name);
        
    </script>
</body>
</html>